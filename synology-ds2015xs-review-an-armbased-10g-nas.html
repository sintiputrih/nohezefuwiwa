<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Direct-Attached Storage Performance - Synology DS2015xs Review: An ARM-based 10G NAS | JazzDash</title><meta name=generator content="Hugo 0.98.0"><meta name=description content="Direct-Attached Storage Performance The presence of 10G ports on the Synology DS2015xs presents some interesting use-cases. As an example, video production houses have a need for high-speed storage. Usually, direct-attached storage units suffice. Thunderbolt is popular for this purpose - for both single-user modes as well as part of a SAN. However, as 10G network interfaces become common and affordable, there is scope for NAS units to act as a direct-attached storage units also."><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet type=text/css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/cayman.css><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=./favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=./favicon-16x16.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css integrity=sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js integrity=sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><section class=page-header><h1 class=project-name>JazzDash</h1><h2 class=project-tagline></h2><nav><a href=./index.html class=btn>Blog</a>
<a href=./sitemap.xml class=btn>Sitemap</a>
<a href=./index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>Direct-Attached Storage Performance - Synology DS2015xs Review: An ARM-based 10G NAS</h1><div><strong>Publish date: </strong>2024-04-02</div><h2>Direct-Attached Storage Performance</h2><p>The presence of 10G ports on the Synology DS2015xs presents some interesting use-cases. As an example, video production houses have a need for high-speed storage. Usually, direct-attached storage units suffice. Thunderbolt is popular for this purpose - for both single-user modes as well as <a href=#>part of a SAN</a>. However, as 10G network interfaces become common and affordable, there is scope for NAS units to act as a direct-attached storage units also. In order to evaluate the DAS performance of the Synology DS2015xs, we utilized the DAS testbed augmented with an appropriate CNA (converged network adapter), as described in the previous section. To get an idea of the available performance for different workloads, we ran a couple of quick artificial benchmarks along with a subset of our <a href=#>DAS test suite</a>.</p><h3>CIFS</h3><p>In the first case, we evaluate the performance of a CIFS share created in a RAID 5 volume. One of the aspects to note is that the direct link between the NAS and the testbed is configured with a MTU of 9000 (compared to the default of 1500 used for the NAS benchmarks).</p><p align=center><img alt="Synology DS2015xs - CrystalDiskMark Benchmark" src=https://cdn.statically.io/img/images.anandtech.com/reviews/nas/das_perf/synology_ds2015xs/CDM-CIFS.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>Our first artificial benchmark is CrystalDiskMark, which tackles sequential accesses as well as 512 KB and 4KB random accesses. For 4K accesses, we have a repetition of the benchmark at a queue depth of 32. As the screenshot above shows, Synology DS2015xs manages around 675 MBps reads and 703 MBps writes. The write benchmark number corresponds correctly to the claims made by Synology in their marketing material, but the 675 MBps read speeds are a far cry from the promised 1930 MBps. We moved on to ATTO, another artificial benchmark, to check if the results were any different.</p><p align=center><img alt="Synology DS2015xs - ATTO Benchmark" src=https://cdn.statically.io/img/images.anandtech.com/reviews/nas/das_perf/synology_ds2015xs/ATTO-CIFS.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>ATTO Disk Benchmark tackles sequential accesses with different block sizes. We configured a queue depth of 10 and a master file size of 4 GB for accesses with block sizes ranging from 512 bytes to 8 MB and the results are presented above. In this benchmark, we do see 1 MB block sizes giving read speeds of around 1214 MBps.</p><table border=0 width=100%><tbody readability=1><tr readability=2><td class=contentwhite colspan=3>Synology DS2015xs - 2x10 Gbps LACP - RAID-5 CIFS DAS Performance (MBps)</td></tr><tr class=tlblue><td>&nbsp;</td><td>Read</td><td>Write</td></tr><tr><td>Photos</td><td>594.69</td><td>363.47</td></tr><tr><td>Videos</td><td>915.95</td><td>500.09</td></tr><tr><td>Blu-ray Folder</td><td>949.32</td><td>543.93</td></tr></tbody></table><p>For real-world performance evaluation, we wrote and read back multi-gigabyte folders of photos, videos and Blu-ray files. The results are presented in the table below. These numbers show that it is possible to achieve speeds close to 1 GBps for real-life workloads. The advantage of a unit like the DS2015xs is that the 10G interfaces can be used as a DAS interface, while the other two 1G ports can connect the unit to the rest of the network for sharing the contents seamlessly with other computers.</p><h3>iSCSI</h3><p>We configured a block-level (Single LUN on RAID) iSCSI LUN in RAID-5 using all available disks. Network settings were retained from the previous evaluation environment. The same benchmarks were repeated in this configuration also.</p><p align=center><img alt="Synology DS2015xs - CrystalDiskMark Benchmark" src=https://cdn.statically.io/img/images.anandtech.com/reviews/nas/das_perf/synology_ds2015xs/CDM-iSCSI.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p align=center><img alt="Synology DS2015xs - ATTO Benchmark" src=https://cdn.statically.io/img/images.anandtech.com/reviews/nas/das_perf/synology_ds2015xs/ATTO-iSCSI.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>The iSCSI performance seems to be a bit off compared to what we got with CIFS. Results from the real-world performance evaluation suite are presented in the table below. These numbers track what we observed in the artificial benchmarks too.</p><table border=0 width=100%><tbody readability=1><tr readability=2><td class=contentwhite colspan=3>Synology DS2015xs - 2x10 Gbps LACP - RAID-5 iSCSI DAS Performance (MBps)</td></tr><tr class=tlblue><td>&nbsp;</td><td>Read</td><td>Write</td></tr><tr><td>Photos</td><td>535.28</td><td>532.54</td></tr><tr><td>Videos</td><td>770.41</td><td>483.97</td></tr><tr><td>Blu-ray Folder</td><td>734.51</td><td>505.3</td></tr></tbody></table><h3>Performance Analysis</h3><p>The performance numbers that we obtained with teamed ports (20 Gbps) were frankly underwhelming. The more worrisome aspect was that we couldn't replicate Synology's claims of upwards of 1900 MBps throughput for reads. In order to determine if there were any issues with our particular setup, we wanted to isolate the problem to either the disk subsystem on the NAS side or the network configuration. Unfortunately, Synology doesn't provide any tools to evaluate them separately. For optimal functioning, 10G links require careful configuration on either side.</p><p>iPerf is the tool of choice for many when it comes to ensuring that the network segment is operating optimally. Unfortunately, iPerf for DSM requires an optware package that is not yet available for the Alpine platform. On the positive side, Synology had uploaded the tool chain for Alpine on SourceForge - this helped us to cross-compile iPerf from source for the DS2015xs. Armed with iPerf on both the NAS and the testbed side, we proceeded to evaluate the links operating simultaneously without the teaming overhead.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/8985/iperf-saturate_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The screenshot above shows that the two links together saturated at around 5 Gbps (out of the theoretically possible 20 Gbps), but the culprit was our cross-compiled iPerf executable (with each instance completely saturating one core - 25% of the CPU).</p><p>In the CIFS case, the smbd process is not multi-threaded, and this severely affects the utilization of the 10G links fully.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/8985/smbd-saturate_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>In the iSCSI case, the iscsi_trx process also seems to saturate one CPU core, leading to similar results for 10G link utilization.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/8985/iscsi-saturate_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>On the whole, the 10G links are getting utilized, but not to the full possible extent. The utilization is definitely more than, say, four single GbE links teamed together, but the presence of two 10G links had us expecting more from the unit as a DAS.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIV6hJRoqrKmn6G8qMWMnapraGFqxbR50Z6top2nYq6vecCrpJuZo5qxbn2PoGSnmaNkfw%3D%3D</p><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. © 2022. All rights reserved.</span></footer></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/banner.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>